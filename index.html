<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./style.css">
</head>

<body>
   <div class="container">
    <div>
        <h1 class = "question"><small>*psst* I have a question</small></h1>
        <h1 class = "question">Will you be my girlfriend?</h1>
    </div>

    <div class="uwu">
        <img src="https://media.tenor.com/8iZAUyXf9zEAAAAj/uhmm.gif" alt="Cute gif">
    </div>

    <div class = "buttons">
        <button class="btn" id="yesButt" onclick="submitRespo()">Yes</button>
        <button class="btn" id="noButt" onmouseover="moveButton()" onclick="moveButton()">No</button>
    <script>

        async function submitRespo(){
            const responseData = {
                response: "yes",
                timestamp: new Date().toISOString()
            };
            try {
                const response = await fetch('/.netlify/functions/submit-respo', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(responseData)
                });

                if(response.ok){
                    console.log('YAYYY HOPEFULY THIS MESSAGE SHOWS UP CAUSE IT MEANS YOU SAID YES');
                    window.location.href = "yes.html";
                } else {
                    console.error('Error submitting response:', response.status);
                    alert('danggg. there was an error submitting your response. please please please try again!!!!.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('danngggg. there was an error submitting your response. please please please try again');
            }
        }
        function nextPage() {
            window.location.href = "yes.html";
        }

        function moveButton() {
            var x = Math.random() * (window.innerWidth - document.getElementById('noButt').offsetWidth) - 85;
            var y = Math.random() * (window.innerHeight - document.getElementById('noButt').offsetHeight) - 48;
            document.getElementById('noButt').style.left = `${x}px`;
            document.getElementById('noButt').style.top = `${y}px`;
        }
    </script>
    </div>
    </div>
</body>
</html>